(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{27:function(e,t,a){e.exports=a(49)},32:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),s=(a(32),a(21)),o=a(2),i=a.n(o),u=a(6),p=a(8),m=a(9),d=a(11),h=a(10),b=a(12),E=a(26),v=a(4),f=a(5),N=function(e){var t,a=function(e){if(null==e)return"No Update";var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,l=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(l)},n=function(e){return e.scrapDate<(new Date).setMilliseconds(0)&&"BER"===e.status?"ber":""},r=Object(E.a)(e.palletList),c=[],s=[];return!0===e.state.archive?(c=r.filter((function(t){return t["".concat(e.state.searchQuery.itemSearch)]===e.state.searchQuery.valueSearch&&!0===t.deleted})),t=l.a.createElement("ul",{className:"headings"},l.a.createElement("li",null,l.a.createElement("p",null,"Advice Number")," ",l.a.createElement("p",null,"Customer")," ",l.a.createElement("p",null,"Meter Type")," ",l.a.createElement("p",null,"Quantity")," ",l.a.createElement("p",null,"Pallet Number")," ",l.a.createElement("p",null,"Trolley Number")," ",l.a.createElement("p",null,"Job Number")," ",l.a.createElement("p",null,"Status")," ",l.a.createElement("p",null,"Create Date")," ",l.a.createElement("p",null,"Scrap Date BER")," ",l.a.createElement("p",null,"Update Date")," ",l.a.createElement("p",null,"Description")," ",l.a.createElement("p",null,"Location"))),c.forEach((function(t){s.push(l.a.createElement("li",{className:n(t),key:t._id},l.a.createElement("p",null,t.adviceNumber)," ",l.a.createElement("p",null,t.customer)," ",l.a.createElement("p",null,t.meterType)," ",l.a.createElement("p",null,t.qty)," ",l.a.createElement("p",null,t.palletNumber)," ",l.a.createElement("p",null,t.trolleyNumber)," ",l.a.createElement("p",null,t.jobNo)," ",l.a.createElement("p",null,t.status)," ",l.a.createElement("p",null,a(t.date))," ",l.a.createElement("p",null,a(t.scrapDate))," ",l.a.createElement("p",null,a(t.updateDate))," ",l.a.createElement("p",null,t.description)," ",l.a.createElement("p",null,t.location1,"/",t.location2,"/",t.location3),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:function(a){e.printButton(a,t._id.toString())}},l.a.createElement(v.a,{icon:f.e})))))}))):!1===e.state.archive&&(c=r.filter((function(t){return t["".concat(e.state.searchQuery.itemSearch)]===e.state.searchQuery.valueSearch&&!1===t.deleted})),t=l.a.createElement("ul",{className:"headings"},l.a.createElement("li",null,l.a.createElement("p",null,"Advice Number")," ",l.a.createElement("p",null,"Customer")," ",l.a.createElement("p",null,"Meter Type")," ",l.a.createElement("p",null,"Quantity")," ",l.a.createElement("p",null,"Pallet Number")," ",l.a.createElement("p",null,"Trolley Number")," ",l.a.createElement("p",null,"Job Number")," ",l.a.createElement("p",null,"Status")," ",l.a.createElement("p",null,"Create Date")," ",l.a.createElement("p",null,"Scrap Date BER")," ",l.a.createElement("p",null,"Update Date")," ",l.a.createElement("p",null,"Description")," ",l.a.createElement("p",null,"Location"))),c.forEach((function(t){s.push(l.a.createElement("li",{className:n(t),key:t._id},l.a.createElement("p",null,t.adviceNumber)," ",l.a.createElement("p",null,t.customer)," ",l.a.createElement("p",null,t.meterType)," ",l.a.createElement("p",null,t.qty)," ",l.a.createElement("p",null,t.palletNumber)," ",l.a.createElement("p",null,t.trolleyNumber)," ",l.a.createElement("p",null,t.jobNo)," ",l.a.createElement("p",null,t.status)," ",l.a.createElement("p",null,a(t.date))," ",l.a.createElement("p",null,a(t.scrapDate))," ",l.a.createElement("p",null,a(t.updateDate))," ",l.a.createElement("p",null,t.description)," ",l.a.createElement("p",null,t.location1,"/",t.location2,"/",t.location3),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:function(a){e.updateItem(a,t._id.toString())}},l.a.createElement(v.a,{icon:f.c})),l.a.createElement("button",{onClick:function(a){e.delete(a,t._id.toString())}},l.a.createElement(v.a,{icon:f.g})),l.a.createElement("button",{onClick:function(a){e.printButton(a,t._id.toString())}},l.a.createElement(v.a,{icon:f.e})))))}))),l.a.createElement("div",{className:"List"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"topBar"},l.a.createElement("div",{className:"searchField"},l.a.createElement("button",{className:"addButton",onClick:function(t){e.addPalletButton()}},l.a.createElement(v.a,{icon:f.d})),l.a.createElement("button",{className:"searchButton",onClick:function(t){e.search()}},l.a.createElement(v.a,{icon:f.f})),l.a.createElement("select",{className:"searchSelect",name:"search",type:"select",value:e.state.search,onChange:e.handleChange},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:"Macquarie BG"},"Macquarie BG"),l.a.createElement("option",{value:"Meterfit BG"},"Meterfit BG"),l.a.createElement("option",{value:"SSE"},"SSE"),l.a.createElement("option",{value:"Meterfit Eon"},"Meterfit Eon"),l.a.createElement("option",{value:"Macquarie Eon"},"Macquarie Eon"),l.a.createElement("option",{value:"5299"},"5299 ( 140mm )"),l.a.createElement("option",{value:"5394"},"5394 ( 120mm )"),l.a.createElement("option",{value:"5424"},"5424 ( 100mm )"),l.a.createElement("option",{value:"Compleated"},"Compleated"),l.a.createElement("option",{value:"Awaiting"},"Awaiting"),l.a.createElement("option",{value:"Inprogress"},"Inprogress"),l.a.createElement("option",{value:"BER"},"BER"),l.a.createElement("option",{value:"Ready to be shipped"},"Ready to be shipped"),l.a.createElement("option",{value:"Parts"},"Parts")),l.a.createElement(l.a.Fragment,null,l.a.createElement("label",null,"Archive"),l.a.createElement("input",{className:"checkButton",name:"archive",type:"checkbox",onChange:e.handleArchive,value:e.state.archive}))),t),l.a.createElement("ul",{className:"element"},s)))},y=(a(38),function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Input"},l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Customer:"),l.a.createElement("select",{name:"customer",value:this.props.state.customer,onChange:this.props.handleChange},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Macquarie BG"},"Macquarie BG"),l.a.createElement("option",{value:"Meterfit BG"},"Meterfit BG"),l.a.createElement("option",{value:"SSE"},"SSE"),l.a.createElement("option",{value:"Meterfit Eon"},"Meterfit Eon"),l.a.createElement("option",{value:"Macquarie Eon"},"Macquarie Eon"),l.a.createElement("option",{value:"Parts"},"Parts"))),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Meter Type:"),l.a.createElement("select",{name:"meterType",value:this.props.state.meterType,onChange:this.props.handleChange},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"5299"},"5299 ( 140mm )"),l.a.createElement("option",{value:"5394"},"5394 ( 120mm )"),l.a.createElement("option",{value:"5424"},"5424 ( 100mm )"))),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Quantity:"),l.a.createElement("input",{name:"qty",type:"number",value:this.props.state.qty,onChange:this.props.handleChange,placeholder:"Quantity"})),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Pallet Number:"),l.a.createElement("input",{name:"palletNumber",type:"number",value:this.props.state.palletNumber,onChange:this.props.handleChange,placeholder:"Pallet Number"})),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Trolley Number:"),l.a.createElement("input",{name:"trolleyNumber",type:"number",value:this.props.state.trolleyNumber,onChange:this.props.handleChange,placeholder:"Trolley Number"})),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Job Number:"),l.a.createElement("input",{name:"jobNo",type:"number",value:this.props.state.jobNo,onChange:this.props.handleChange,placeholder:"Job Number"})),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Status:"),l.a.createElement("select",{name:"status",value:this.props.state.status,onChange:this.props.handleChange},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Compleated"},"Compleated"),l.a.createElement("option",{value:"Awaiting"},"Awaiting"),l.a.createElement("option",{value:"BER"},"BER"),l.a.createElement("option",{value:"Inprogress"},"Inprogress"),l.a.createElement("option",{value:"Ready to be shipped"},"Ready to be shipped"))),l.a.createElement("label",null,l.a.createElement("p",{className:"inputLabel"},"Description:"),l.a.createElement("input",{name:"description",value:this.props.state.description,onChange:this.props.handleChange,placeholder:"Description",maxLength:"200"})),l.a.createElement("label",null,l.a.createElement("form",null,l.a.createElement("p",{className:"inputLabel"},"Location:"),l.a.createElement("input",{className:"inputLoc",type:"number",name:"location1",value:this.props.state.location1,onChange:this.props.handleChange,min:"1",max:"20"}),l.a.createElement("input",{className:"inputLoc",type:"number",name:"location2",value:this.props.state.location2,onChange:this.props.handleChange,min:"1",max:"20"}),l.a.createElement("input",{className:"inputLoc",type:"number",name:"location3",value:this.props.state.location3,onChange:this.props.handleChange,min:"1",max:"20"}))),l.a.createElement("button",{onClick:function(t){e.props.backButton(e.props.backButton)}},l.a.createElement(v.a,{icon:f.a})),this.props.updateButtonVisible?l.a.createElement("button",{onClick:function(t){e.props.updateConfirme(e.props.updateConfirm)}},l.a.createElement(v.a,{icon:f.b})):l.a.createElement("button",{onClick:function(t){e.props.addPallet()}},l.a.createElement(v.a,{icon:f.d})))}}]),t}(l.a.Component)),g=(a(39),function(e){var t=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,l=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(l)};return l.a.createElement(l.a.Fragment,null,console.log(e.state.scrapDate),l.a.createElement("div",{className:"label"},l.a.createElement("div",{className:"advice"},e.state.adviceNumber),l.a.createElement("div",{className:"eref"},"E-REF"),l.a.createElement("div",{className:"customerLabel"},"CUSTOMER :"),l.a.createElement("div",{className:"customer"},e.state.customer),l.a.createElement("div",{className:"meterTypeLabel"},"METER TYPE :"),l.a.createElement("div",{className:"meterType"},e.state.meterType),l.a.createElement("div",{className:"status"},e.state.status),l.a.createElement("div",{className:"qtyLabel"},"QTY :"),l.a.createElement("div",{className:"qty"},e.state.qty),l.a.createElement("div",{className:"trolleyNumberLabel"},"TROL NO :"),l.a.createElement("div",{className:"trolleyNumber"},e.state.trolleyNumber),l.a.createElement("div",{className:"palletNumberLabel"},"PALLET NO :"),l.a.createElement("div",{className:"palletNumber"},e.state.palletNumber),l.a.createElement("div",{className:"description"},e.state.description),l.a.createElement("div",{className:"dateLabel"},"Create Date :"),l.a.createElement("div",{className:"date"},t(e.state.date)),l.a.createElement("div",{className:"scrapDateLabel"},"SCRAP Date :"),l.a.createElement("div",{className:"scrapDate"},null===e.state.scrapDate?"":t(e.state.scrapDate)),l.a.createElement("div",{className:"authorLabel"},"Author :"),l.a.createElement("div",{className:"author"},"Damian Krawczyk")))}),C=a(22),w=a(16),D=a(24),S=a.n(D);a(44);function k(){var e=Object(C.a)(["\n  display: block;\n  margin: 50vh auto;\n  border-color: red;\n"]);return k=function(){return e},e}var B=Object(w.css)(k()),j=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.spinnerState})}},{key:"render",value:function(){return l.a.createElement("div",{className:"sweet-loading"},l.a.createElement(S.a,{css:B,size:30,color:"#000000",loading:this.state.loading}))}}]),t}(l.a.Component),x=(a(45),a(48)),L=x.Stitch,O=x.RemoteMongoClient,T=x.AnonymousCredential,M=L.initializeDefaultAppClient("werhouse-pnqbo"),q=M.getServiceClient(O.factory,"mongodb-atlas").db("refurb");M.auth.loginWithCredential(new T);var P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={colection:"test",archive:!1,adviceNumber:null,palletList:[],customer:"",meterType:"",qty:"",palletNumber:"",trolleyNumber:"",jobNo:"",status:"",description:"",location1:"",location2:"",location3:"",date:null,scrapDate:null,updateDate:null,deleted:!1,search:"",searchQuery:{},spinner:!0,listVisible:!0,updateButtonVisible:!1,printVisible:!1,updateItemNo:""},a.clearInput=function(){a.setState({customer:"",meterType:"",qty:"",palletNumber:"",trolleyNumber:"",jobNo:"",status:"",description:"",location1:"",location2:"",location3:"",date:null,scrapDate:null,updateDate:null,updateItemNo:"",printVisible:!1})},a.listVisible=function(){a.setState({listVisible:!a.state.listVisible})},a.updateButtonVisible=function(e){a.setState({updateButtonVisible:e})},a.addPalletButton=function(){a.listVisible(),a.adviceNumber(),a.setState({date:a.date(0),scrapDate:a.date(78624e5),updateDate:null})},a.date=function(e){var t=new Date;return t=t.setMilliseconds(e)},a.adviceNumber=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.collection("counter").find({id:"5e4bce1e1c9d4400005050e7"}).toArray().then((function(e){a.setState({adviceNumber:e[0].adviceNumberCounter})}));case 2:return e.next=4,q.collection("counter").updateOne({id:"5e4bce1e1c9d4400005050e7"},{$set:{adviceNumberCounter:a.state.adviceNumber+1}},{upsert:!1});case 4:case"end":return e.stop()}}),e)}))),a.scrapCheck=function(e){return"BER"===e?a.state.scrapDate:null},a.addPallet=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=prompt("Do you want add this pallet?"),M.callFunction("password",[l,n]).then(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=11;break}return e.next=3,q.collection(a.state.colection).insertOne({owner_id:M.auth.user.id,adviceNumber:a.state.adviceNumber,customer:a.state.customer,meterType:a.state.meterType,qty:a.state.qty,palletNumber:a.state.palletNumber,trolleyNumber:a.state.trolleyNumber,jobNo:a.state.jobNo,status:a.state.status,date:a.state.date,scrapDate:a.scrapCheck(a.state.status),updateDate:a.state.updateDate,description:a.state.description,location1:a.state.location1,location2:a.state.location2,location3:a.state.location3,deleted:a.state.deleted});case 3:return e.next=5,a.listVisible();case 5:return e.next=7,a.pullList();case 7:return e.next=9,a.clearInput();case 9:e.next=16;break;case 11:if(!1!==t){e.next=15;break}return e.abrupt("return",window.alert("Wrong Password!"));case 15:return e.abrupt("return",0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.search=function(){""===a.state.search?a.setState({searchQuery:{}}):"Macquarie BG"===a.state.search||"Meterfit BG"===a.state.search||"SSE"===a.state.search||"Meterfit Eon"===a.state.search||"Macquarie Eon"===a.state.search||"Parts"===a.state.search?a.setState({searchQuery:{itemSearch:"customer",valueSearch:a.state.search}}):"5299"===a.state.search||"5394"===a.state.search||"5424"===a.state.search?a.setState({searchQuery:{itemSearch:"meterType",valueSearch:a.state.search}}):"BER"!==a.state.search&&"Awaiting"!==a.state.search&&"Compleated"!==a.state.search&&"Inprogress"!==a.state.search&&"Ready to be shipped"!==a.state.search||a.setState({searchQuery:{itemSearch:"status",valueSearch:a.state.search}})},a.pullList=function(e){q.collection(a.state.colection).find(e,{limit:1e3}).toArray().then((function(e){setTimeout((function(){a.setState({palletList:e,spinner:!1})}),0)}))},a.deleteItem=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=prompt("Do you want delete this pallet?"),M.callFunction("password",[l,n]).then(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=9;break}return e.next=3,q.collection(a.state.colection).updateOne({_id:{$oid:n}},{$set:{deleted:!0}},{upsert:!1});case 3:return e.next=5,a.search();case 5:return e.next=7,a.pullList();case 7:e.next=14;break;case 9:if(!1!==t){e.next=13;break}return e.abrupt("return",window.alert("Wrong Password!"));case 13:return e.abrupt("return",0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.updateItem=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.collection(a.state.colection).find({_id:{$oid:n}}).toArray().then((function(e){a.setState({customer:e[0].customer,meterType:e[0].meterType,qty:e[0].qty,palletNumber:e[0].palletNumber,trolleyNumber:e[0].trolleyNumber,jobNo:e[0].jobNo,status:e[0].status,description:e[0].description,location1:e[0].location1,location2:e[0].location2,location3:e[0].location3,updateDate:a.date(0),updateItemNo:n}),a.listVisible(),a.updateButtonVisible(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.updateConfirme=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=prompt("Do you want update this pallet?"),M.callFunction("password",[t]).then(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=13;break}return e.next=3,q.collection(a.state.colection).updateOne({_id:{$oid:a.state.updateItemNo}},{$set:{customer:a.state.customer,meterType:a.state.meterType,qty:a.state.qty,palletNumber:a.state.palletNumber,trolleyNumber:a.state.trolleyNumber,jobNo:a.state.jobNo,status:a.state.status,updateDate:a.state.updateDate,description:a.state.description,location1:a.state.location1,location2:a.state.location2,location3:a.state.location3}},{upsert:!1});case 3:return e.next=5,a.listVisible();case 5:return e.next=7,a.updateButtonVisible(!1);case 7:return e.next=9,a.clearInput();case 9:return e.next=11,a.pullList();case 11:e.next=18;break;case 13:if(!1!==t){e.next=17;break}return e.abrupt("return",window.alert("Wrong Password!"));case 17:return e.abrupt("return",0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),a.backButton=function(){a.listVisible(),a.updateButtonVisible(!1),a.clearInput()},a.print=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.print();case 2:return e.next=4,a.clearInput();case 4:case"end":return e.stop()}}),e)}))),a.printButton=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.collection(a.state.colection).find({_id:{$oid:n}}).toArray().then((function(e){a.setState({customer:e[0].customer,meterType:e[0].meterType,qty:e[0].qty,palletNumber:e[0].palletNumber,trolleyNumber:e[0].trolleyNumber,jobNo:e[0].jobNo,status:e[0].status,description:e[0].description,location1:e[0].location1,location2:e[0].location2,location3:e[0].location3,date:e[0].date,scrapDate:e[0].scrapDate,updateDate:e[0].updateDate,updateItemNo:n,adviceNumber:e[0].adviceNumber,printVisible:!0})}));case 2:return e.next=4,a.print();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleArchive=function(e){a.setState({archive:e.target.checked})},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.pullList()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},this.state.printVisible?l.a.createElement(g,{state:this.state}):this.state.listVisible?l.a.createElement(N,{search:this.search,palletList:this.state.palletList,updateItem:this.updateItem,delete:this.deleteItem,addPallet:this.addPallet,addPalletButton:this.addPalletButton,printButton:this.printButton,handleChange:this.handleChange,handleArchive:this.handleArchive,state:this.state}):l.a.createElement(y,{backButton:this.backButton,updateButtonVisible:this.state.updateButtonVisible,updateConfirme:this.updateConfirme,addPalletButton:this.addPalletButton,addPallet:this.addPallet,handleChange:this.handleChange,state:this.state})),l.a.createElement(j,{spinnerState:this.state.spinner}))}}]),t}(l.a.Component);c.a.render(l.a.createElement(P,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.5257ff8e.chunk.js.map